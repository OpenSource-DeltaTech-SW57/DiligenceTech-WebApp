<mat-card
    class="daxa-card folder-bar-card mb-25 border-radius bg-white border-none d-block"
    [class.rtl-enabled]="themeService.isRTLEnabled()"
>
    <mat-card-header>
        <mat-card-title>
            <form class="search-box position-relative">
                <i class="material-symbols-outlined">
                    search
                </i>
                <input type="text" class="input-search d-block w-100 border-none outline-0" placeholder="Search folder...">
            </form>
        </mat-card-title>
        <mat-card-subtitle>
            <button
                mat-button
                class="text-daxa p-0 h-auto"
                (click)="toggleClass()"
            >
                + Add New Folder
            </button>
        </mat-card-subtitle>
    </mat-card-header>
</mat-card>

<div
    class="row"
    [class.rtl-enabled]="themeService.isRTLEnabled()"
>
    <div class="col-lg-4 col-md-6" *ngFor="let folder of folderDataArray">
        <mat-card class="daxa-card file-card mb-25 border-radius bg-white border-none d-block">
            <mat-card-header>
                <mat-card-subtitle>
                    <button type="button" mat-button class="card-header-menu-btn p-0" [matMenuTriggerFor]="cardHeaderMenu">
                        <i class="material-symbols-outlined">
                            more_horiz
                        </i>
                    </button>
                    <mat-menu #cardHeaderMenu="matMenu" class="card-header-menu" xPosition="before">
                        <button mat-menu-item>
                            Rename
                        </button>
                        <button mat-menu-item>
                            Download
                        </button>
                        <button mat-menu-item (click)="onDeleteItem(folder)">
                            Remove
                        </button>
                    </mat-menu>
                </mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <div class="d-flex align-items-center">
                    <div class="icon">
                        <i class="material-symbols-outlined">
                            folder
                        </i>
                    </div>
                    <h5 class="mb-0">
                        <a routerLink="folder-name/files">
                          {{folder.folderName}}
                        </a>
                    </h5>
                </div>
                <div class="info d-flex align-items-center justify-content-between">
                    <span class="d-block text-body">
                      {{folder.owner}}
                    </span>
                    <span class="d-block text-body">
                      {{folder.filesItems}} Files
                    </span>
                    <span class="d-block text-body">
                      {{folder.size}}
                    </span>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>

<!-- Popup -->
<div
    class="create-new-folder-popup"
    [class.active]="classApplied"
    [class.rtl-enabled]="themeService.isRTLEnabled()"
>
    <div class="popup-dialog">
        <mat-card class="daxa-card mb-25 border-radius bg-white border-none d-block">
          <app-folder-create-and-edit (editCanceled)="onCancelEdit()"
                                      (folderAdded)="onFolderAdded($event)"
                                      (editMode)="isEditMode"
                                      [folder]="folderData"/>
        </mat-card>
    </div>
</div>
